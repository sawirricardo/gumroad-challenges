function validURL(t){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)}function addStylesheet(t="https://gumroad.com"){let n=document.createElement("style");n.innerHTML="\n.sawiroad-button {\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tpadding: 16px;\n\t\t\t\tborder-radius: 10px;\n\t\t\t\tborder: 2px solid #ececec;\n\t\t\t\ttransition: all 0.25s ease-in-out;\n\t\t\t\tbackground-image: url(https://gumroad.com/button/button_bar.jpg);\n\t\t\t\tbackground-repeat: repeat-x;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tcolor: #999;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tmax-width: 200px;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tfont-family: -apple-system, '.SFNSDisplay-Regular', 'Helvetica Neue', Helvetica, Arial, sans-serif !important;\n\t\t\t}\n\n\t\t\t.sawiroad-button::before {\n\t\t\t\tbackground-image: url('https://gumroad.com/button/button_logo.png');\n\t\t\t\tmargin-right: 1rem;\n\t\t\t\tbackground-size: 20px 20px;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\tcontent: '';\n\t\t\t}\n\n\t\t\t.sawiroad-button:hover {\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\n\t\t\t.sawiroad-scroll-container {\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tposition: fixed;\n\t\t\t\tz-index: 10;\n\t\t\t\ttransition: opacity 0.2s ease-in-out;\n\t\t\t}\n\n\t\t\t.sawiroad-scroll-container > div {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tmin-height: 100%;\n\t\t\t\tmin-width: 100%;\n\t\t\t}\n\n\t\t\t.sawiroad-scroll-overlay {\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tposition: fixed;\n\t\t\t\tbackground-color: black;\n\t\t\t\topacity: 75%;\n\t\t\t\ttransition: opacity 0.2s ease-in-out;\n\t\t\t}\n\n\t\t\t.sawiroad-overlay-iframe {\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 100%;\n\t\t\t\tmax-width: 800px;\n\t\t\t\theight: 85vh;\n\t\t\t\tborder: none !important;\n\t\t\t\toverflow: auto;\n\t\t\t}\n\n\t\t\t.sawiroad-loading-indicator {\n\t\t\t\tbackground: white;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tdisplay: none;\n\t\t\t\theight: 60px;\n\t\t\t\tleft: 50% !important;\n\t\t\t\tmargin-left: -30px !important;\n\t\t\t\tmargin-top: -30px !important;\n\t\t\t\tpadding: 10px;\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: 50% !important;\n\t\t\t\twidth: 60px;\n\t\t\t\tz-index: 99997;\n\t\t\t}\n\n\t\t\t.sawiroad-loading-indicator i {\n\t\t\t\tbackground: url('https://gumroad.com/js/loading-rainbow.svg');\n\t\t\t\theight: 40px;\n\t\t\t\twidth: 40px;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tbackground-size: contain;\n\t\t\t\tanimation: sawiroad-spin 1.5s infinite linear;\n\t\t\t}\n\n\t\t\t@keyframes sawiroad-spin {\n\t\t\t\t0% {\n\t\t\t\t\ttransform: rotate(0deg);\n\t\t\t\t}\n\t\t\t\t100% {\n\t\t\t\t\ttransform: rotate(359deg);\n\t\t\t\t}\n\t\t\t}\n\t",document.getElementsByTagName("head")[0].appendChild(n)}function addLoader(){let t=document.createElement("div"),n=document.createElement("i");return t.className="sawiroad-loading-indicator",t.appendChild(n),t.style.display="none",document.body.insertBefore(t,document.body.lastElementChild),t}document.addEventListener("DOMContentLoaded",()=>{addStylesheet();let t=Array.from(document.getElementsByClassName("sawiroad-button"));if(0===t.length)return;const n=addLoader();t.map(t=>{if(null===t.getAttribute("data-show"))return;const e=t.getAttribute("href");if(""===e||!validURL(e))return;const a=new URL(e);!a.hostname.includes("gum.co")&&a.hostname.includes("gumroad.com"),t.addEventListener("click",a=>{if(null===t.getAttribute("data-embed"))return;n.style.display="block",setTimeout(()=>n.style.display="none",200),a.preventDefault();let o=document.createElement("iframe");o.src=e,o.className="sawiroad-overlay-iframe",o.allowFullscreen="allowFullScreen",o.allowPaymentRequest="allowPaymentRequest",o.scrolling="yes";let i=document.createElement("div");i.className="sawiroad-scroll-container";let r=document.createElement("div"),d=document.createElement("div");d.className="sawiroad-scroll-overlay",r.appendChild(d),r.appendChild(o),i.appendChild(r),i.addEventListener("click",t=>{t.preventDefault(),i.style.opacity=0,setTimeout(()=>i.remove(),200)}),document.body.insertBefore(i,document.body.lastElementChild)})})});